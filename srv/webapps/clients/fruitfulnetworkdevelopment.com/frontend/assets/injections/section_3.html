<!-- =========================
     SECTION 3 (Offer / Dataflow)
     Injected into #slot-section-1-7
     
     Component Contract:
     - Root element fills slot (100% width/height)
     - Uses CSS Grid for internal layout
     - References shared CSS variables from index.html
     - No outer padding/background/height (handled by container)
     ========================= -->

<style>
  /* Component-local scope - internal grid and typography only */
  .s3{
    height: 100%;
    width: 100%;
    display: grid;
    grid-template-rows: 1fr;
    padding: var(--section-vertical-pad) 0;
    align-content: center;
  }

  /* Inner grid: left stack + right panel, fills available space */
  .s3__inner{
    width: 100%;
    height: 100%;
    display: grid;
    grid-template-columns: minmax(280px, 320px) 1fr;
    gap: var(--gap-lg); /* uses shared gap token */
    align-items: stretch;
    align-content: center;
  }

  /* ---------- Left stack cards - uses CSS Grid, fills available height ---------- */
  .s3__stack{
    height: 100%;
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(3, 1fr);
    gap: var(--gap-md); /* uses shared gap token */
    align-content: stretch;
  }

  .s3__miniCard{
    background: var(--c9); /* uses shared color token */
    border-radius: calc(var(--header-h) * 0.45);
    padding: calc(var(--header-h) * 0.6);
    display: grid;
    grid-template-columns: minmax(40px, 64px) 1fr;
    gap: var(--gap-sm); /* uses shared gap token */
    align-items: center;
    box-shadow: 0 10px 18px rgba(0,0,0,0.10);
  }

  .s3__miniIcon{
    width: calc(var(--header-h) * 1.6);
    height: calc(var(--header-h) * 1.6);
    object-fit: contain;
    display: block;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.18));
  }

  .s3__miniTitle{
    font-family: 'Open Sans', sans-serif;
    font-weight: 400; /* Open Sans Regular */
    margin: 0;
    text-transform: none;
    font-size: clamp(14px, calc(var(--header-h) * 0.45), 18px);
    color: var(--c5); /* uses shared color token */
    line-height: 1.1;
  }

  /* ---------- Big rectangle ---------- */
  .s3__panelWrap{
    position: relative; /* anchors overlays */
    height: 100%;
    display: grid;
    align-items: stretch;
  }

  .s3__panel{
    background: var(--c9); /* uses shared color token */
    border-radius: calc(var(--header-h) * 0.55);
    box-shadow: 0 14px 26px rgba(0,0,0,0.14);
    overflow: hidden;
    display: grid;
    grid-template-columns: 0.95fr 1.05fr;
    gap: var(--gap-md); /* uses shared gap token */
    padding: calc(var(--header-h) * 0.85);
    height: 100%;
    min-height: calc(var(--header-h) * 7.4);
  }

  .s3__text{
    font-size: clamp(12px, calc(var(--header-h) * 0.34), 15px);
    line-height: 1.55;
    color: rgba(10,32,38,0.88);
    margin: 0;
    white-space: pre-line; /* allows manual line breaks if you paste text */
  }

  .s3__graphic{
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
    align-self: center;
    justify-self: center;
  }

  /* ---------- Overlay “floating” inputs ---------- */
  .s3__overlay{
    position: absolute;
    width: calc(var(--header-h) * 2.0);
    height: auto;
    object-fit: contain;
    filter: drop-shadow(0 8px 10px rgba(0,0,0,0.18));
  }

  /* bottom-left (slightly outside) */
  .s3__overlay.bl{
    left: calc(var(--header-h) * -0.35);
    bottom: calc(var(--header-h) * -0.55);
  }

  /* top-right (slightly outside) */
  .s3__overlay.tr{
    right: calc(var(--header-h) * -0.45);
    top: calc(var(--header-h) * -0.55);
  }

  /* bottom-right (slightly outside) */
  .s3__overlay.br{
    right: calc(var(--header-h) * -0.35);
    bottom: calc(var(--header-h) * -0.55);
  }

  /* Optional: scale overlay sizes independently to mimic the mock */
  .s3__overlay.tr{ width: calc(var(--header-h) * 1.9); }
  .s3__overlay.bl{ width: calc(var(--header-h) * 1.9); }
  .s3__overlay.br{ width: calc(var(--header-h) * 1.9); }

  /* ---------- Responsive ---------- */
  @media (max-width: 980px){
    .s3__inner{
      grid-template-columns: 1fr;
      grid-template-rows: auto 1fr;
    }
    .s3__stack{
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      grid-template-rows: auto;
      height: auto;
    }
    .s3__panelWrap{
      height: auto;
    }
  }

  @media (max-width: 760px){
    .s3__panel{
      grid-template-columns: 1fr;
    }
    .s3__overlay{
      display: none; /* optional: hide floating inputs on very small screens */
    }
  }
</style>

<section class="s3">
  <div class="s3__inner">

    <!-- LEFT STACK -->
    <div class="s3__stack">
      <div class="s3__miniCard">
        <img class="s3__miniIcon" src="assets/imgs/inventory.png" alt="Inventory Management">
        <h3 class="s3__miniTitle">Inventory Management</h3>
      </div>

      <div class="s3__miniCard">
        <img class="s3__miniIcon" src="assets/imgs/pos.png" alt="POS Integration">
        <h3 class="s3__miniTitle">POS Integration</h3>
      </div>

      <div class="s3__miniCard">
        <img class="s3__miniIcon" src="assets/imgs/workware.png" alt="Workware">
        <h3 class="s3__miniTitle">Workware</h3>
      </div>
    </div>

    <!-- RIGHT PANEL + OVERLAYS -->
    <div class="s3__panelWrap">

      <!-- Floating overlay graphics -->
      <img class="s3__overlay bl" src="assets/imgs/input-1.png" alt="" aria-hidden="true">
      <img class="s3__overlay tr" src="assets/imgs/input-2.png" alt="" aria-hidden="true">
      <img class="s3__overlay br" src="assets/imgs/input-3.png" alt="" aria-hidden="true">

      <div class="s3__panel">
        <!-- Left text block -->
        <p class="s3__text">
In other words, we're building a system where local producers can digitally offer up their supply (in stock or expected) from the same data they manage their farm operations.
This creates a shared data infrastructure that is just as seamless and efficient as what big agriculture uses in a top down model. This enables them to improve local economies, maintain a personal touch, and compete on product quality; without giving up any autonomy or control of their farming operations or their digital rights.
There is a public demand for sustainably grown, local, healthy options and but the current system makes it financially and logistically hard to incorporate local producers.
As a result, these farms under perform their industrial counterparts at about 10% per acre; just with respect to output of perishable crops that can't be planned for growth due to isolated suppliers, buyers and middle shops.
        </p>

        <!-- Right graphic -->
        <img class="s3__graphic" src="assets/imgs/dataflow.png" alt="Better data management and interaction">
      </div>

    </div>
  </div>
</section>
