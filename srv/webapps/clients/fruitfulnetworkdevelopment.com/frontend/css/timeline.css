.section-timeline {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--space-lg) var(--space-md);
}

/* Legend / key for timeline colours */
.timeline-key {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: var(--space-lg);
  margin-bottom: var(--space-lg);
}

.key-item {
  display: flex;
  align-items: center;
  gap: var(--space-2xs);
  font-size: 0.75rem;
}

.pill {
  display: inline-block;
  width: 1rem;
  height: 0.5rem;
  border-radius: 0.25rem;
}
.open-period { background-color: var(--green); }
.phase-i     { background-color: var(--yellow); }
.phase-ii    { background-color: var(--red); }

/* Container for all year rings.  Wraps them with spacing and
   allows them to flow onto multiple lines. */
.timeline-years {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: var(--space-md);
}

/* Each year unit defines its own ring and month labels. */
.year-unit {
  position: relative;
  width: 9rem;
  height: 9rem;
  margin-bottom: var(--space-lg);
  margin-top: var(--space-md);
  margin-bottom: var(--space-md);
}

/* The coloured ring itself.  A radial mask hollows out the centre
   to create a donut shape.  The background is defined by a
   conic-gradient on each year via additional classes. */
.year-unit .ring {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  /* Create the hole in the middle */
  -webkit-mask: radial-gradient(closest-side, transparent 65%, #000 66%);
  mask: radial-gradient(closest-side, transparent 65%, #000 66%);
  background: var(--ring-gradient);
}

/* Centre label showing the year */
.year-unit .year-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-weight: 600;
  font-size: 0.9rem;
}

/* Month labels positioned around the ring.  Each label uses a
   custom CSS variable --angle to determine its rotation.  The
   translate moves the label outward beyond the ring’s radius, and
   the counter-rotation keeps the text upright. */
.month-label {
  position: absolute;
  top: 46%;
  left: 44%;
  transform-origin: 0 0;
  font-size: 0.6rem;
  white-space: nowrap;
  /* Use trigonometric positioning via rotate and translate.  The
     outer translation distance (5.0rem) equals half the ring size
     (4.5rem) plus a small offset to clear the ring. */
  transform: rotate(var(--angle)) translateX(5.25rem) rotate(calc(-1 * var(--angle)));
}

/* Gradient definitions for each year’s ring.  Colours correspond
   to the SBIR/STTR calendar: gray for dormant months, green for
   open periods (Phase 0), yellow for Phase I and red for Phase II. */
.year-2026 {
  --ring-gradient: conic-gradient(
    var(--gray) 0deg 120deg,
    var(--green) 120deg 210deg,
    var(--gray) 210deg 300deg,
    var(--yellow) 300deg 360deg
  );
}
.year-2027 {
  --ring-gradient: conic-gradient(
    var(--yellow) 0deg 120deg,
    var(--red)    120deg 330deg,
    var(--yellow) 330deg 360deg
  );
}
.year-2028 {
  --ring-gradient: conic-gradient(
    var(--red) 0deg 360deg
  );
}
.year-2029 {
  --ring-gradient: conic-gradient(
    var(--red) 0deg 180deg,
    var(--gray) 180deg 330deg,
    var(--red) 330deg 360deg
  );
}

/* ======================================
   RESPONSIVE MEDIA (if any)
  ====================================== */

/* BASE STYLES (Mobile ~ >= 0px) */
/* TABLET STYLES (Don't use unless special use) */
@media (min-width: 768px) {
}
/* DESKTOP STYLES */
@media (min-width: 1024px) {
}

/* Responsive adjustments for very narrow devices: stack the rings
   vertically and reduce their size slightly. */
@media (max-width: 600px) {
  .timeline-years {
    flex-direction: column;
    align-items: center;
  }
  .year-unit {
    width: 8rem;
    height: 8rem;
  }
  /* Adjust label radius for smaller rings */
  .month-label {
    transform: rotate(var(--angle)) translateX(4.5rem) rotate(calc(-1 * var(--angle)));
    font-size: 0.55rem;
  }
}
