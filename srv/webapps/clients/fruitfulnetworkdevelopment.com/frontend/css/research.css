/* ======================================
   CALENDAR - SECTION
  ====================================== */

/* Root variables for sizing */
.section-calendar {
   --offset-unit: 1.5rem; /* horizontal/vertical indentation per offset unit */
   --circle-size: 1.1rem; /* diameter of each day cell */
   font-family: "Lato", sans-serif;
    color: var(--nero);
 }
 
 /* Ensure tables have no inherent spacing */
 .section-calendar table {
   border-collapse: collapse;
   margin: 0;
   padding: 0;
 }
 
 /* Assign offsets for each month; the value applies both horizontally (desktop)
    and vertically (mobile) to align the month relative to the day-of-week. */
 .section-calendar .month.january   { --offset: 5; }
 .section-calendar .month.february  { --offset: 1; }
 .section-calendar .month.march     { --offset: 3; }
 .section-calendar .month.april     { --offset: 6; }
 .section-calendar .month.may       { --offset: 1; }
 .section-calendar .month.june      { --offset: 6; }
 .section-calendar .month.july      { --offset: 7; }
 .section-calendar .month.august    { --offset: 1; }
 .section-calendar .month.september { --offset: 5; }
 .section-calendar .month.october   { --offset: 0; }
 .section-calendar .month.november  { --offset: 3; }
 .section-calendar .month.december  { --offset: 3; }

/*
 * The weekday header rows (the first and last tables in the calendar) need to
 * align with the first day of January.  To achieve this the header is given
 * its own offset of 5, matching the offset assigned to January.  This
 * variable is subsequently used by the responsive rules to shift the
 * header rightward on desktop and downward on mobile.
 */
.section-calendar .month.weekdays {
  --offset: 5;
}
 
/* Style weekday header cells.  Weight and case are common to both layouts. */
.section-calendar .month.weekdays td {
  font-weight: bold;
  text-transform: uppercase;
  font-size: 0.7rem;
  /* padding and white-space will be overridden in responsive rules */
}
 
 /* Desktop (wide viewport) styles */
 @media (min-width: 768px) {
   /* Container holds all tables; stack them vertically */
   .section-calendar .calendar-blocks {
     display: block;
   }
   /* Show the first and last weekday rows.  Shift them right by their
      offset so that the day names line up with the month that starts
      with the same offset (January has an offset of 5). */
   .section-calendar .month.weekdays {
     display: block;
     width: 100%;
     /* apply horizontal indentation based on header offset */
     margin-left: calc(var(--offset) * var(--offset-unit));
     margin-bottom: 0.75rem;
   }
   .section-calendar .calendar-blocks table.month.weekdays:last-child {
     margin-top: 0.75rem;
   }
  /* Render the weekday row.  Each cell is displayed inline horizontally
     but the text inside is rotated vertically so the first, second and
     third letters of each abbreviation align in three horizontal bands. */
  .section-calendar .month.weekdays tr,
  .section-calendar .month.weekdays td {
    display: inline-block;
    white-space: nowrap;
  }
  .section-calendar .month.weekdays td {
    /* rotate day names into vertical columns */
    writing-mode: vertical-rl;
    text-orientation: upright;
    /* constrain width equal to day circle size so the vertical stack of
       letters aligns with the circles below */
    width: var(--circle-size);
    /* remove horizontal padding (set above) and add a small right margin */
    padding: 0;
    margin-right: 0.375rem;
  }
  
   /* Style month tables for horizontal flow */
   .section-calendar .calendar-blocks table.month:not(.weekdays) {
     /* Use flex to place month label and days row next to each other */
     display: flex;
     flex-direction: row;
     align-items: center;
     /* Use the offset to indent the entire month row to the right */
     margin-left: calc(var(--offset) * var(--offset-unit));
     margin-bottom: 0.5rem;
   }
   /* Month heading (e.g., JANUARY).  Reduce the width and padding so that
      the label sits closer to its row of circles. */
   .section-calendar .calendar-blocks table.month:not(.weekdays) thead {
     flex: 0 0 5rem;
   }
   .section-calendar .calendar-blocks table.month:not(.weekdays) thead th {
     text-align: left;
     font-size: 0.8rem;
     text-transform: uppercase;
     padding-right: 0.25rem;
     white-space: nowrap;
   }
   /* Days row: break out of table layout */
   .section-calendar .calendar-blocks table.month:not(.weekdays) tbody {
     flex: 1;
   }
   .section-calendar .calendar-blocks table.month:not(.weekdays) tbody tr {
     display: block;
   }
   .section-calendar .calendar-blocks table.month:not(.weekdays) tbody td {
     display: inline-block;
     width: var(--circle-size);
     height: var(--circle-size);
     border-radius: 50%;
     background-color: var(--nero);
     color: var(--offwhite);
     text-align: center;
     line-height: var(--circle-size);
     margin-right: 0.3rem;
     font-size: 0.55rem;
   }
 }
 
 /* Mobile (narrow viewport) styles */
 @media (max-width: 767px) {
   /* The calendar-blocks container becomes a horizontal strip of vertical months */
   .section-calendar .calendar-blocks {
     display: flex;
     flex-direction: row;
     align-items: flex-start;
     overflow-x: auto;
   }
  /* In narrow view the weekday header tables become vertical
     lists on the left and right of the calendar. */
  /*
   * In the narrow/mobile layout the weekday header tables become
   * vertical lists that flank the grid of month columns.  Each list
   * must occupy a fixed width so that it doesn’t shrink as the user
   * scrolls horizontally, and its cells should stack top‑to‑bottom
   * with a small gap between entries.  Using a flex container allows
   * the single <tr> containing all weekday cells to break into a
   * column of rows.  The margin shorthand collapses the original
   * left/right spacing rules into a single property.
   */
  .section-calendar .month.weekdays {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex-shrink: 0;
    /* reserve horizontal space roughly equal to the day cell width
       plus a little extra for legibility */
    width: calc(var(--circle-size) * 1.8);
    /* push the weekday list downward so that its first entry aligns with
       the first day of January (offset of 5).  The vertical offset
       uses the same unit as month offsets. */
    margin-top: calc(var(--offset) * var(--offset-unit));
    margin-left: 0.5rem;
    margin-right: 0.5rem;
  }
  .section-calendar .month.weekdays tr {
    display: flex;
    flex-direction: column;
    margin: 0;
    padding: 0;
  }
  .section-calendar .month.weekdays td {
    display: block;
    padding: 0;
    margin: 0;
    /* space between weekday labels to align with the circle gap */
    margin-bottom: 0.3rem;
    width: 100%;
    white-space: nowrap;
    text-align: left;
    /* capitalize so that Sun/MON look consistent */
    text-transform: capitalize;
  }
   /* Each month becomes a vertical column. The offset pushes it downward. */
   .section-calendar .calendar-blocks table.month:not(.weekdays) {
     display: flex;
     flex-direction: column;
     align-items: center;
     margin-right: 0.75rem;
     margin-top: calc(var(--offset) * var(--offset-unit));
   }
  /* Rotate and stack the month heading vertically.  The text flows top-to-bottom
     without being flipped so the first letter appears at the top. */
  .section-calendar .calendar-blocks table.month:not(.weekdays) thead th {
    writing-mode: vertical-rl;
    text-orientation: upright;
    /* remove the 180deg rotation so letters are not upside down */
    transform: none;
    font-size: 0.7rem;
    margin-bottom: 0.5rem;
    white-space: nowrap;
    /* center the rotated text relative to its column */
    align-self: center;
  }
   /* Days column: show each day as its own row */
   .section-calendar .calendar-blocks table.month:not(.weekdays) tbody tr {
     display: flex;
     flex-direction: column;
   }
   .section-calendar .calendar-blocks table.month:not(.weekdays) tbody td {
     display: block;
     width: var(--circle-size);
     height: var(--circle-size);
     border-radius: 50%;
     background-color: var(--nero);
     color: var(--offwhite);
     line-height: var(--circle-size);
     margin-bottom: 0.3rem;
     font-size: 0.55rem;
   }
 }

/* ======================================
   CALENDAR - SECTION
  ====================================== */
